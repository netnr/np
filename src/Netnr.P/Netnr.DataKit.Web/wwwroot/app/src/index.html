<!doctype html>
<html lang="zh-cn">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="keywords" content="netnr,Netnr.DataKit" />
    <meta name="description" content="netnr,Netnr.DataKit" />

    <title>Netnr.DataKit (NDK)</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
</head>

<body>
    <h3 class="nr-loading" style="position:absolute;">&nbsp; &nbsp;Loading ...</h3>

    <script src="https://npm.elemecdn.com/localforage@1.10.0/dist/localforage.min.js"></script>
    <script src="https://npm.elemecdn.com/sql-formatter@4.0.2/dist/sql-formatter.min.js"></script>
    <script src="https://npm.elemecdn.com/ag-grid-enterprise@26.1.0/dist/ag-grid-enterprise.min.js"></script>
    <link rel="stylesheet" href="https://npm.elemecdn.com/@shoelace-style/shoelace@2.0.0-beta.60/dist/themes/light.css">
    <link rel="stylesheet" href="https://npm.elemecdn.com/@shoelace-style/shoelace@2.0.0-beta.60/dist/themes/dark.css">

    <script src="https://npm.elemecdn.com/monaco-editor@0.30.0/min/vs/loader.js"></script>
    <script type="module">
        import * as sl from 'https://npm.elemecdn.com/@shoelace-style/shoelace@2.0.0-beta.60/dist/shoelace.js'
        sl.setBasePath('https://npm.elemecdn.com/@shoelace-style/shoelace@2.0.0-beta.60/dist')

        require.config({
            paths: {
                vs: 'https://npm.elemecdn.com/monaco-editor@0.30.0/min/vs'
            },
            'vs/nls': { availableLanguages: { '*': 'zh-cn' } }
        });

        require(['vs/editor/editor.main'], function () {
            //xml formatter
            monaco.languages.html.registerHTMLLanguageService('xml', {}, { documentFormattingEdits: true })

            //sql fromatter
            monaco.languages.registerDocumentFormattingEditProvider('sql', {
                provideDocumentFormattingEdits: function (model, _options, _token) {

                    var dbtype;
                    vary.domTabGroup2.querySelectorAll('.nr-editor-sql').forEach(node => {
                        var tpkey = node.getAttribute('panel');
                        var tpobj = tab.tabKeys[tpkey];
                        if (tpobj.editor.getModel() == model) {
                            dbtype = step.cpGet(tpkey).cobj.type;
                        }
                    })

                    return [{
                        text: me.meFormatterSQL(model.getValue(), dbtype),
                        range: model.getFullModelRange()
                    }];
                }
            });
        });
    </script>

    <!--整体-->
    <div class="nr-main" style="visibility: hidden;">

        <!--顶部-->
        <div class="nr-box0">
            <!--菜单-->
            <sl-dropdown class="nr-menu mb-2">
                <sl-button slot="trigger" caret class="nr-request-status">Ⓜ菜单</sl-button>
                <sl-menu>
                    <sl-menu-item data-cmd="server-manager">服务设置</sl-menu-item>
                    <sl-menu-item data-cmd="config-backup-restore">配置备份还原</sl-menu-item>
                    <sl-divider></sl-divider>
                    <sl-menu-item data-cmd="theme-light">Theme-Light</sl-menu-item>
                    <sl-menu-item data-cmd="theme-dark">Theme-Dark</sl-menu-item>
                </sl-menu>
            </sl-dropdown>

            <sl-select class="nr-window-conns"></sl-select>
            <sl-select class="nr-window-database"></sl-select>
        </div>

        <!--主体分离器-->
        <div class="nr-spliter1 nrc-spliter-horizontal">

            <!--左-->
            <div class="nr-box1 nrc-spliter-item">
                <!--选项卡-->
                <sl-tab-group class="nr-tab-group-1">
                    <sl-tab slot="nav" panel="tp1-conns">🔗连接</sl-tab>
                    <sl-tab slot="nav" panel="tp1-database">🎒库</sl-tab>
                    <sl-tab slot="nav" panel="tp1-table">📚表</sl-tab>
                    <sl-tab slot="nav" panel="tp1-column">📙列</sl-tab>

                    <sl-tab-panel name="tp1-conns">
                        <sl-input class="nr-filter-conns mb-2" placeholder="搜索" size="small"></sl-input>
                        <div class="nr-grid-conns"></div>
                    </sl-tab-panel>
                    <sl-tab-panel name="tp1-database">
                        <sl-input class="nr-filter-database mb-2" placeholder="搜索" size="small"></sl-input>
                        <div class="nr-grid-database"></div>
                    </sl-tab-panel>
                    <sl-tab-panel name="tp1-table">
                        <sl-input class="nr-filter-table mb-2" placeholder="搜索" size="small"></sl-input>
                        <div class="nr-grid-table"></div>
                    </sl-tab-panel>
                    <sl-tab-panel name="tp1-column">
                        <sl-input class="nr-filter-column mb-2" placeholder="搜索" size="small"></sl-input>
                        <div class="nr-grid-column"></div>
                    </sl-tab-panel>
                </sl-tab-group>
            </div>
            <div class="nrc-spliter-bar"></div>
            <div class="nrc-spliter-bar-active"></div>
            <!--右-->
            <div class="nr-box2 nrc-spliter-item">
                <sl-tab-group class="nr-tab-group-2">
                </sl-tab-group>
            </div>
        </div>
    </div>
</body>

</html>