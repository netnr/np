//Jz JavaScript Popup
//Date: 2018-06-29
//Author: netnr

!function(a,b){var c=function(a,b){return new c.fn.init(a,b)};c.fn=c.prototype={init:function(b){var d,e,f,g;if(!b)return this;if("string"==typeof b){if(d=b.length,"#"===b[0]&&d>1)return e=document.getElementById(b.substring(1)),e?(this[0]=e,this.length=1,this):(this.length=0,this)}else if(b.nodeType)return this[0]=b,this.length=1,this;if(b==a)return this[0]=b,this.length=1,this;if(b&&b.length){for(g=0,f=b||[];g<f.length;g++)this[g]=f[g];return this.length=f.length,this}return this[0]=b,this.length=1,this},length:0,each:function(a){return c.each(this,a),this},on:function(a,b){c.each(this,function(){c.on(a,b,this)})},off:function(a,b){c.each(this,function(){c.off(a,b,this)})},parent:function(){var a=[];return c.each(this,function(){var b=c.dir(this,"parentNode");b.length&&a.push(b[0])}),new c.fn.init(a)},remove:function(){c.each(this,function(){var a=c(this).parent();a.length&&document.documentElement.contains(this)&&a[0].removeChild(this)})},show:function(){return c.each(this,function(){this.style["display"]="block"}),this},hide:function(){return c.each(this,function(){this.style["display"]="none"}),this}},c.fn.init.prototype=c.fn,c.each=function(a,c){var d,e=0,f=a.length,g=f===b||"function"==typeof a;if(g){for(d in a)if(c.call(a[d],d,a[d])===!1)break}else for(;f>e&&c.call(a[e],e,a[e++])!==!1;);},c.on=function(a,b,c){c.addEventListener?c.addEventListener(a,b,!1):c.attachEvent?c.attachEvent("on"+a,b["_eid"]=function(){b.apply(c,arguments)}):c["on"+a]=b},c.off=function(a,b,c){c.removeEventListener?c.removeEventListener(a,b,!1):c.detachEvent&&c.detachEvent("on"+a,b["_eid"])},c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){c.fn[b]=function(a){return c.each(this,function(){c.on(b,a,this)}),this}}),c.event=function(b){return b||a.event},c.stopEvent=function(b){b&&b.stopPropagation?b.stopPropagation():a.event.cancelBubble=!0},c.writeStyle=function(a){var b=document.createElement("style");b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:b.innerHTML=a,document.getElementsByTagName("HEAD")[0].appendChild(b)},c.dir=function(a,b){for(var c=[],d=a[b];d&&9!=d.nodeType;)1==d.nodeType&&c.push(d),d=d[b];return c},c.px=function(b){var f,c={width:null,height:null,top:null,left:null,scrollTop:null,scrollLeft:null,scrollHeight:null,scrollWidth:null},d=document.documentElement,e=document.body;return b===a||b===document?(c.width=d.clientWidth||e.clientWidth,c.height=d.clientHeight||e.clientHeight,c.scrollTop=d.scrollTop||e.scrollTop,c.scrollLeft=d.scrollLeft||e.scrollLeft,c.scrollWidth=d.scrollWidth||e.scrollWidth,c.scrollHeight=d.scrollHeight||e.scrollHeight):(c.width=b.offsetWidth,c.height=b.offsetHeight,f=b.getBoundingClientRect(),c.top=f.top,c.left=f.left,c.scrollTop=b.scrollTop,c.scrollLeft=b.scrollLeft,c.scrollWidth=b.scrollWidth,c.scrollHeight=b.scrollHeight),c},c.drag=function(a,d,e){var f=c(a)[0],g=d!=b?c(d)[0]:f;g.style.cursor="move",g.onmousedown=function(a){var b=f.offsetLeft,d=f.offsetTop,g=f.offsetWidth,h=f.offsetHeight,i=c.event(a).clientX-b,j=c.event(a).clientY-d,k=c.px(document).width,l=c.px(document).height,m=c.px(document).scrollTop,n=c.px(document).scrollLeft;return document.onmousemove=function(a){var o,p,b=c.event(a).clientX-i,d=c.event(a).clientY-j;return e&&(o=k-g,p=l-h,"fixed"==f.style.position?(m=0,n=0):(o+=n,p+=m),n>=b&&(b=n),m>=d&&(d=m),b>=o&&(b=o),d>=p&&(d=p)),f.style.left=b+"px",f.style.top=d+"px",!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,this.releaseCapture&&this.releaseCapture()},this.setCapture&&this.setCapture(),!1}},c.blankClick=function(a,b){setTimeout(function(){c(a).click(function(a){c.stopEvent(a)}),c(document).click(function(){var d=a.nodeType?a:document.getElementById(a);if(d)try{d.parentElement.removeChild(d)}catch(e){}c(document).off("click",arguments.callee),"function"==typeof b&&b()})},200)},c.firstV=function(a,c){return a==b?c:a},c.art={version:"2.0.0",zindex:6666,config:{autoclosetime:4,setlang:"zh_CN",closeValue:"✖",smallwidth:"340px"},locale:{zh_CN:{title:"消息",closeTitle:"关闭",iframeTitle:"窗口",okValue:"确定",cancelValue:"取消"},en:{title:"MESSAGE",closeTitle:"CLOSE",iframeTitle:"WINDOW",okValue:"OK",cancelValue:"CANCEL"}},initobj:function(a){return a.title=0==a.title?!1:c.firstV(a.title,c.art.getlangkey("title")),a.width=c.firstV(a.width,c.art.config.smallwidth),a.single=c.firstV(a.single,!1),a.align=c.firstV(a.align,5),a.time=c.firstV(a.time,0),a.drag=c.firstV(a.drag,!0),a.mask=c.firstV(a.mask,!0),a.fixed=c.firstV(a.fixed,!0),a},getlangkey:function(a){return c.art.locale[c.art.config.setlang][a]},create:function(a,c){var d=document.createElement(a);return c!=b&&(d.className=c),d},wrap:function(a){var b=this.create("div","jzart");return b.id="jzart"+c.art.zindex,a.fixed&&(b.style.position="fixed"),b},header:function(){var a=this.create("div","jzart-header");return a.id="jzartheader"+c.art.zindex,a},title:function(a){var b=this.create("div","jzart-header-title");return b.id="jzartheadertitle"+c.art.zindex,b.innerHTML=c.firstV(a.title,c.art.getlangkey("title")),b},close:function(){var a=this.create("a","jzart-header-cloase");return a.href="javascript:void(0);",a.id="jzarttopclose"+c.art.zindex,a.innerHTML=c.art.config.closeValue,a.title=c.art.getlangkey("closeTitle"),a},footer:function(){var a=this.create("div","jzart-footer");return a.id="jzartfooter"+c.art.zindex,a},ok:function(a){var b=this.create("a","art-btn art-ok");return b.href="javascript:void(0);",b.id="jzartok"+c.art.zindex,b.innerHTML=c.firstV(a.okValue,c.art.getlangkey("okValue")),b},cancel:function(a){var b=this.create("a","art-btn art-cancel");return b.href="javascript:void(0);",b.id="jzartcancel"+c.art.zindex,b.innerHTML=c.firstV(a.cancelValue,c.art.getlangkey("cancelValue")),b},body:function(a){var b=this.create("div","jzart-body");return b.id="jzartbody"+c.art.zindex,b.innerHTML=c.firstV(a.content,""),b},iframe:function(a){var b=this.create("iframe","jzart-iframe");return b.id=b.name="jzartiframe"+c.art.zindex,b.src=a.src,b.frameBorder="0",b.scrolling=a.scrolling?"auto":"no",b},supunit:function(a){return a=a.toString(),-1==a.indexOf("px")&&-1==a.indexOf("em")&&(a+="px"),a},align:function(b,d){var e,j,k,f,g,h,i,l,m,n,o,p,q,r;if(d=d||b.fn.obj,b.fn.target){switch(e=b.fn.target,f=e.offsetHeight,g=e.offsetWidth,h=c.px(e).left+c.px(a).scrollLeft,i=c.px(e).top+c.px(a).scrollTop,d.align){case"top":k=i-b.offsetHeight-16,j=g>40?h:h-15+g/2;break;case"right":k=f>40?i:i-15+f/2,j=h+g+16;break;case"left":k=f>40?i:i-15+f/2,j=h-b.offsetWidth-16;break;default:k=i+f+16,j=g>40?h:h-15+g/2}b.style.top=k+"px",b.style.left=j+"px"}else{switch(h=0,i=0,l="fixed"!=b.style.position,m=c.px(a).height,n=c.px(a).width,o=b.offsetHeight,p=b.offsetWidth,q=c.px(a).scrollTop,r=c.px(a).scrollLeft,d.align){case 1:h=m-o;break;case 2:h=m-o,i=n/2-p/2;break;case 3:h=m-o,i=n-p;break;case 4:h=m/2-o/2;break;case 5:default:h=m/2-o/2,i=n/2-p/2;break;case 6:h=m/2-o/2,i=n-p;break;case 7:break;case 8:i=n/2-p/2;break;case 9:i=n-p}l&&(h+=q,i+=r),b.style.top=h+"px",b.style.left=i+"px"}},setsize:function(d,e){var f,g,h,i;return e=e||d.fn.obj,f=!1,g=!1,h=!1,e.width!=b&&(g=e.width,g.indexOf("%")>=0&&(f=!0,g=c.px(a).width*parseFloat(g.replace("%",""))/100)),e.height!=b&&(h=e.height,h.indexOf("%")>=0&&(f=!0,h=c.px(a).height*parseFloat(h.replace("%",""))/100)),g&&(d.style.width=c.art.supunit(g)),h&&(d.style.height=c.art.supunit(h),i=d.clientHeight,d.fn.header&&(i-=d.fn.header.offsetHeight),d.fn.iframe?d.fn.iframe.style["height"]=i+"px":(d.fn.footer&&(i-=d.fn.footer.offsetHeight),d.fn.body.style["height"]=i+"px")),f},mask:function(){var a=this.create("div","jzart-mask");return a},remove:function(a,b){b="number"==typeof b?b:0,setTimeout(function(){if(null!=a&&""!=a){var b=c(a="#"+a);b.remove(),c(a+="mask").remove(),c.art.removeCallBack(b[0])}},1e3*b)},removeCallBack:function(a){a&&"function"==typeof a.fn.obj.remove&&a.fn.obj.remove(),a=null},pol:function(a,b){return b?b.content=a:"object"==typeof a?b=a:(b={},b.content=a),b},fn:function(a,b,d){b.global=a,b.obj=d,b.hide=function(){c(a).hide(),b.mask&&c(b.mask).hide()},b.show=function(){c(a).show(),b.mask&&c(b.mask).show()},b.remove=function(){c.art.remove(a.id)},a["fn"]=b}},c.popup=function(d){var e,f,g,h,i;switch(c.art.zindex+=1,e=c.art.wrap(d),f=e.id,g={target:b,mask:b,header:b,title:b,close:b,body:b,iframe:b,footer:b,ok:b,cancel:b,zindex:c.art.zindex},e.style.zIndex=c.art.zindex,c(e).mousedown(function(){this.style.zIndex=c.art.zindex+=1}),0!=d.title&&(g.header=c.art.header(),g.title=c.art.title(d),0!=d.close&&(g.close=c.art.close(),g.header.appendChild(g.close),c(g.close).click(function(){(d.close==b||0!=d.close())&&c.art.remove(f)})),g.header.appendChild(g.title),e.appendChild(g.header)),d.content!=b&&d.src==b&&(g.body=c.art.body(d),e.appendChild(g.body)),d.src!=b&&(g.iframe=c.art.iframe(d),e.appendChild(g.iframe)),0!=d.title&&d.src==b&&d.footer!==!1&&(g.footer=c.art.footer(),0!=d.cancel&&(g.cancel=c.art.cancel(d),g.footer.appendChild(g.cancel),c(g.cancel).click(function(){(d.cancel==b||0!=d.cancel())&&c.art.remove(f)})),0!=d.ok&&(g.ok=c.art.ok(d),g.footer.appendChild(g.ok),c(g.ok).click(function(){(d.ok==b||0!=d.ok())&&c.art.remove(f)})),e.appendChild(g.footer)),d.mask!=b&&0!=d.mask&&(g.mask=c.art.mask(),g.mask.id=f+"mask",g.mask.style.zIndex=c.art.zindex-1,h=parseFloat(d.mask),isNaN(h)&&(h=.01),g.mask.style.opacity=h,g.mask.style["filter"]="alpha(opacity = "+100*h+")",document.body.appendChild(g.mask)),d.target&&(g.target=c(d.target)[0],i=c.art.create("em"),d.align&&""!=d.align||(d.align="bottom"),i.className="tip-em em-"+d.align,e.appendChild(i)),d.type){case"msg":e.className+=" jzart-msg"}return c.art.fn(e,g,d),document.body.appendChild(e),d.focus&&e.focus(),d.time>0&&c.art.remove(f,d.time),d.blank&&c.blankClick(e,function(){c(g.mask).remove(),c.art.removeCallBack(e)}),d.drag&&(d.title!=b?c.drag(e,g.header,1):c.drag(e,null,1)),c.art.setsize(e,d)&&c(a).resize(function(){c.art.setsize(e)}),c.art.align(e,d),c(a).resize(function(){c.art.align(e)}),e},c.msg=c.tip=function(a,b){b=c.art.pol(a,b),b.title=c.firstV(b.title,!1),b.time=c.firstV(b.time,c.art.config.autoclosetime),b.type="msg";var d=c.popup(b);return d},c.alert=function(a,b){return b=c.art.pol(a,b),b.cancel=c.firstV(b.cancel,!1),c.popup(c.art.initobj(b))},c.confirm=function(a,b){return b=c.art.pol(a,b),c.popup(c.art.initobj(b))},c.iframe=function(a){return a.title=0==a.title?!1:c.firstV(a.title,c.art.getlangkey("iframeTitle")),c.popup(c.art.initobj(a))},c.closeback=function(a){var b=document.getElementById(a.replace("iframe","topclose"));b?b.click():(b=document.getElementById(a=a.replace("iframe","")))&&c.art.remove(a)},c.getStyle=function(a){var b=document.createElement("LINK");b.href=a,b.rel="stylesheet",document.getElementsByTagName("HEAD")[0].appendChild(b)},c.selfSrc=document.scripts[document.scripts.length-1].src,c.selfPath=c.selfSrc.substring(0,c.selfSrc.lastIndexOf("/")+1),c.getStyle(c.selfPath+"jz.css"),a.jz=c}(window,void 0);